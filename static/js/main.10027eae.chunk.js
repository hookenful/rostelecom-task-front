(this["webpackJsonprostelecom-test-front"]=this["webpackJsonprostelecom-test-front"]||[]).push([[0],{76:function(e,t,a){e.exports=a(89)},81:function(e,t,a){},82:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),s=a.n(l),c=(a(81),a(82),a(9)),o=a(10),i=a(12),m=a(11),u=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"mt-5 d-flex jsutify-content-left"},r.a.createElement("h3",null,"Welcome to Home page of User Management Portal"))}}]),a}(n.Component),d=a(108),p=a(109),h=a(107),b=a(24),E=a(110),f=a(106),k=a(69),v=a(111),y=a(112),g=a(114),S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).snackbarClose=function(e){n.setState({snackbaropen:!1})},n.state={snackbaropen:!1,snackbarmsg:""},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/departments",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Origin:"*"},body:JSON.stringify({Name:e.target.DepartmentName.value})}).then((function(e){return e.json()})).then((function(e){t.setState({snackbaropen:!0,snackbarmsg:"Added successfully!"})}),(function(e){t.setState({snackbaropen:!0,snackbarmsg:"failed"})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(y.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:this.state.snackbaropen,autoHideDuration:3e3,onClose:this.snackbarClose,message:r.a.createElement("span",{id:"message-id"},this.state.snackbarmsg),action:[r.a.createElement(g.a,{key:"close","arial-label":"close",color:"inherit",onClick:this.snackbarClose},"x")]}),r.a.createElement(E.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(E.a.Header,{closeButton:!0},r.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},"Add Department")),r.a.createElement(E.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(k.a,{sm:6},r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Group,{controlId:"DepartmentName"},r.a.createElement(v.a.Label,null,"Department Name"),r.a.createElement(v.a.Control,{type:"text",name:"DepartmentName",required:!0,placeholder:"DepartmentName"})),r.a.createElement(v.a.Group,null,r.a.createElement(h.a,{variant:"primary",type:"submit"},"Add Department")))))),r.a.createElement(E.a.Footer,null,r.a.createElement(h.a,{variant:"danger",onClick:this.props.onHide},"Close"))))}}]),a}(n.Component),N=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).snackbarClose=function(e){n.setState({snackbaropen:!1})},n.state={snackbaropen:!1,snackbarmsg:""},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/departments/"+e.target.DepartmentId.value,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Origin:"*"},body:JSON.stringify({Name:e.target.DepartmentName.value})}).then((function(e){return e.json()})).then((function(e){t.setState({snackbaropen:!0,snackbarmsg:"Edited successfully!"})}),(function(e){t.setState({snackbaropen:!0,snackbarmsg:"failed"})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(y.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:this.state.snackbaropen,autoHideDuration:3e3,onClose:this.snackbarClose,message:r.a.createElement("span",{id:"message-id"},this.state.snackbarmsg),action:[r.a.createElement(g.a,{key:"close","arial-label":"close",color:"inherit",onClick:this.snackbarClose},"x")]}),r.a.createElement(E.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(E.a.Header,{closeButton:!0},r.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},"Edit department")),r.a.createElement(E.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(k.a,{sm:6},r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Group,{controlId:"DepartmentId"},r.a.createElement(v.a.Label,null,"Department Id"),r.a.createElement(v.a.Control,{type:"text",name:"DepartmentId",required:!0,disabled:!0,defaultValue:this.props.depid,placeholder:"DepartmentId"})),r.a.createElement(v.a.Group,{controlId:"DepartmentName"},r.a.createElement(v.a.Label,null,"Department Name"),r.a.createElement(v.a.Control,{type:"text",name:"DepartmentName",required:!0,defaultValue:this.props.depname,placeholder:"DepartmentName"})),r.a.createElement(v.a.Group,null,r.a.createElement(h.a,{variant:"primary",type:"submit"},"Update Department")))))),r.a.createElement(E.a.Footer,null,r.a.createElement(h.a,{variant:"danger",onClick:this.props.onHide},"Close"))))}}]),a}(n.Component),j=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={deps:[],addModalShow:!1,editModalShow:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.refreshList()}},{key:"refreshList",value:function(){var e=this;fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/departments").then((function(e){return e.json()})).then((function(t){e.setState({deps:t})}))}},{key:"deleteDep",value:function(e){var t=this;window.confirm("Are you sure ?")&&fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/departments/"+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json",Origin:"*"}}).then((function(e){return t.setState(t.refreshList)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.deps,n=t.depid,l=t.depname,s=function(){return e.setState({editModalShow:!1},e.refreshList)};return r.a.createElement("div",null,r.a.createElement(d.a,{className:"mt-4",striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"DepartmentID"),r.a.createElement("th",null,"DepartmentName"),r.a.createElement("th",null,"Options"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement(p.a,null,r.a.createElement(h.a,{className:"mr-2",variant:"info",onClick:function(){return e.setState({editModalShow:!0,depid:t.id,depname:t.name})}},"Edit"),r.a.createElement(h.a,{className:"mr-2",onClick:function(){return e.deleteDep(t.id)},variant:"danger"},"Delete"),r.a.createElement(N,{show:e.state.editModalShow,onHide:s,depid:n,depname:l}))))})))),r.a.createElement(p.a,null,r.a.createElement(h.a,{variant:"primary",onClick:function(){return e.setState({addModalShow:!0})}},"Add Department"),r.a.createElement(S,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1},e.refreshList)}})))}}]),a}(n.Component),C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).snackbarClose=function(e){n.setState({snackbaropen:!1})},n.state={deps:[],snackbaropen:!1,snackbarmsg:""},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/departments/").then((function(e){return e.json()})).then((function(t){e.setState({deps:t})}))}},{key:"handleSubmit",value:function(e){var t=this;fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/users/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Origin:"*"},body:JSON.stringify({UserName:e.target.UserName.value,FullName:e.target.FullName.value,DepartmentId:e.target.DepartmentId.value})}).then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({snackbaropen:!0,snackbarmsg:"Added successfully!"})}),(function(e){t.setState({snackbaropen:!0,snackbarmsg:"Failed!"})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(y.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:this.state.snackbaropen,autoHideDuration:1e3,onClose:this.snackbarClose,message:r.a.createElement("span",{id:"message-id"},this.state.snackbarmsg),action:[r.a.createElement(g.a,{key:"close","arial-label":"close",color:"inherit",onClick:this.snackbarClose},"x")]}),r.a.createElement(E.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(E.a.Header,{closeButton:!0},r.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},"Add User")),r.a.createElement(E.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(k.a,{sm:6},r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Group,{controlId:"UserName"},r.a.createElement(v.a.Label,null,"User Name"),r.a.createElement(v.a.Control,{type:"text",name:"UserName",required:!0,placeholder:"UserName"})),r.a.createElement(v.a.Group,{controlId:"FullName"},r.a.createElement(v.a.Label,null,"Full Name"),r.a.createElement(v.a.Control,{type:"text",name:"FullName",required:!0,placeholder:"FullName"})),r.a.createElement(v.a.Group,{controlId:"DepartmentId"},r.a.createElement(v.a.Label,null,"Department"),r.a.createElement(v.a.Control,{as:"select"},this.state.deps.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(v.a.Group,null,r.a.createElement(h.a,{variant:"primary",type:"submit"},"Add User")))))),r.a.createElement(E.a.Footer,null,r.a.createElement(h.a,{variant:"danger",onClick:this.props.onHide},"Close"))))}}]),a}(n.Component),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).snackbarClose=function(e){n.setState({snackbaropen:!1})},n.state={deps:[],snackbaropen:!1,snackbarmsg:""},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/departments/").then((function(e){return e.json()})).then((function(t){e.setState({deps:t})}))}},{key:"handleSubmit",value:function(e){var t=this;fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/users/"+e.target.UserId.value,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Origin:"*"},body:JSON.stringify({UserName:e.target.UserName.value,FullName:e.target.FullName.value,DepartmentId:e.target.DepartmentId.value})}).then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({snackbaropen:!0,snackbarmsg:"Added successfully!"})}),(function(e){t.setState({snackbaropen:!0,snackbarmsg:"Failed!"})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(y.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:this.state.snackbaropen,autoHideDuration:1e3,onClose:this.snackbarClose,message:r.a.createElement("span",{id:"message-id"},this.state.snackbarmsg),action:[r.a.createElement(g.a,{key:"close","arial-label":"close",color:"inherit",onClick:this.snackbarClose},"x")]}),r.a.createElement(E.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(E.a.Header,{closeButton:!0},r.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},"Edit User")),r.a.createElement(E.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(k.a,{sm:6},r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Group,{controlId:"UserId"},r.a.createElement(v.a.Label,null,"User Id"),r.a.createElement(v.a.Control,{type:"number",name:"UserId",disabled:!0,defaultValue:this.props.userid,placeholder:"UserId"})),r.a.createElement(v.a.Group,{controlId:"UserName"},r.a.createElement(v.a.Label,null,"User Name"),r.a.createElement(v.a.Control,{type:"text",name:"UserName",required:!0,defaultValue:this.props.username,placeholder:"UserName"})),r.a.createElement(v.a.Group,{controlId:"FullName"},r.a.createElement(v.a.Label,null,"Full Name"),r.a.createElement(v.a.Control,{type:"text",name:"FullName",required:!0,defaultValue:this.props.fullname,placeholder:"FullName"})),r.a.createElement(v.a.Group,{controlId:"DepartmentId"},r.a.createElement(v.a.Label,null,"Department"),r.a.createElement(v.a.Control,{as:"select",defaultValue:this.props.departmentid},this.state.deps.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(v.a.Group,null,r.a.createElement(h.a,{variant:"primary",type:"submit"},"Update User")))))),r.a.createElement(E.a.Footer,null,r.a.createElement(h.a,{variant:"danger",onClick:this.props.onHide},"Close"))))}}]),a}(n.Component),D=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={users:[],addModalShow:!1,editModalShow:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.refreshList()}},{key:"refreshList",value:function(){var e=this;fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/users").then((function(e){return e.json()})).then((function(t){e.setState({users:t})}))}},{key:"deleteUser",value:function(e){var t=this;window.confirm("Are you sure ?")&&fetch("https://rostelecomtaskapi20200531200554.azurewebsites.net/api/users/"+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json",Origin:"*"}}).then((function(e){return t.setState(t.refreshList)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.userid,l=t.username,s=t.fullname,c=t.departmentid,o=function(){return e.setState({editModalShow:!1},e.refreshList)};return r.a.createElement("div",null,r.a.createElement(d.a,{className:"mt-4",striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"UserID"),r.a.createElement("th",null,"UserName"),r.a.createElement("th",null,"FullName"),r.a.createElement("th",null,"Department"),r.a.createElement("th",null,"Options"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.userName),r.a.createElement("td",null,t.fullName),r.a.createElement("td",null,t.department&&t.department.name),r.a.createElement("td",null,r.a.createElement(p.a,null,r.a.createElement(h.a,{className:"mr-2",variant:"info",onClick:function(){return e.setState({editModalShow:!0,userid:t.id,username:t.userName,fullname:t.fullName,departmentid:t.department&&t.department.id})}},"Edit"),r.a.createElement(h.a,{className:"mr-2",onClick:function(){return e.deleteUser(t.id)},variant:"danger"},"Delete"),r.a.createElement(O,{show:e.state.editModalShow,onHide:o,userid:n,username:l,fullname:s,departmentid:c}))))})))),r.a.createElement(p.a,null,r.a.createElement(h.a,{variant:"primary",onClick:function(){return e.setState({addModalShow:!0})}},"Add User"),r.a.createElement(C,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1},e.refreshList)}})))}}]),a}(n.Component),w=a(40),U=a(115),I=a(113),L=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(U.a,{bg:"dark",expand:"lg"},r.a.createElement(U.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(U.a.Collapse,{id:"basic-navbar-nav"}),r.a.createElement(I.a,{className:"navbar-brand-custom"},r.a.createElement(w.b,{className:"d-inline p-2 bg-dark text-white",to:"/"},"Home"),r.a.createElement(w.b,{className:"d-inline p-2 bg-dark text-white",to:"/department"},"Departments"),r.a.createElement(w.b,{className:"d-inline p-2 bg-dark text-white",to:"/users"},"Users")))}}]),a}(n.Component),M=a(8);var x=function(){return r.a.createElement(w.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"m-3 d-flex justify-content-center"},"Rostelecom test React JS app consuming ASP .NET Core Web Api"),r.a.createElement("h5",{className:"m-3 d-flex justify-content-center"},"Users and departments management portal"),r.a.createElement(L,null),r.a.createElement(M.c,null,r.a.createElement(M.a,{path:"/",component:u,exact:!0}),r.a.createElement(M.a,{path:"/department",component:j}),r.a.createElement(M.a,{path:"/users",component:D}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[76,1,2]]]);
//# sourceMappingURL=main.10027eae.chunk.js.map